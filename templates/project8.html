{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Page 7</title>
    <link rel="stylesheet" href="{% static 'css/page.css'%}">
</head>
<body>
    <h1><u>PREP PREFECT(GIRLS)</u></h1>
    <p><h3>Who do you want as the female prep prefect for the next Academic year?</h3></p>
    <div class="images-container">
        <div>
            <img src="{% static 'newpromedia/IMG22.jpg' %}" alt="image22" width="300px" height="250px">
            <br>
            <button class="vote-button" onclick="showVoteConfirm('Candidate 22', 22)">Candidate 22</button>
        </div>
        <div>
            <img src="{% static 'newpromedia/IMG23.jpg' %}" alt="image23" width="300px" height="250px">
            <br>
            <button class="vote-button" onclick="showVoteConfirm('Candidate 23', 23)">Candidate 23</button>
        </div>
        <div>
            <img src="{% static 'newpromedia/IMG24.jpg' %}" alt="image24" width="300px" height="250px">
            <br>
            <button class="vote-button" onclick="showVoteConfirm('Candidate 24', 24)">Candidate 24</button>
        </div>
    </div>
    <br><br><br>
    <button class="skip-button" onclick="showSkipConfirm()">Skip</button>

   <!-- Modal for vote confirmation -->
   <div id="voteModal" class="modal">
    <div class="modal-content">
        <p id="voteConfirmText">Are you sure you want to vote for this candidate?</p>
        <form id="voteForm" method="post" action="{% url 'cast_vote' %}">
            {% csrf_token %}
            <input type="hidden" name="candidate_id" id="candidate_id">
            <button type="submit">Yes</button>
            <button type="button" onclick="closeModal()">No</button>
        </form>
    </div>
</div>

    <div id="skipModal" class="modal">
        <div class="modal-content">
            <p>Are you sure you want to skip?</p>
            <button onclick="confirmSkip()">Yes</button>
            <button onclick="closeModal()">No</button>
        </div>
    </div>
    <script>
        
        function showVoteConfirm(candidateName, candidateId) {
            document.getElementById('voteConfirmText').innerText = "Are you sure you want to vote for " +candidateName+ " as your female sports prefect?";
            document.getElementById('candidate_id').value = candidateId;
            document.getElementById('voteModal').style.display = "block";
        }

        function closeModal() {
            document.getElementById('voteModal').style.display = "none";
            document.getElementById('skipModal').style.display = "none";
        }

        function confirmSkip() {
            window.location.href = "{% url 'Voting page 9' %}";
        }

        function showSkipConfirm() {
            document.getElementById('skipModal').style.display = "block";
        }
    
    </script>
</body>
</html>
